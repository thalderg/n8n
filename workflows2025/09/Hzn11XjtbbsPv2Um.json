{
  "": "",
  "active": true,
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Productivity Manager",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Productivity Manager",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Search Events": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create Event": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update Event": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Telegram1": {
      "main": [
        []
      ]
    },
    "Create Monthly Goal in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create Inbox Task in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get a task in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get many tasks in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update a Task in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delete a task in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Close a task in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Productivity Manager": {
      "main": [
        [
          {
            "node": "Telegram1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Weekly Goal in Todoist": {
      "ai_tool": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "Productivity Manager",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-09-27T09:53:45.635Z",
  "id": "Hzn11XjtbbsPv2Um",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Productivity Manager",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [
        -608,
        128
      ],
      "id": "fab1070b-d642-406d-83e1-9202c5fa8645",
      "name": "Telegram Trigger",
      "webhookId": "1105bce1-0ea8-4b50-a87c-f0d0e839d2ed",
      "credentials": {
        "telegramApi": {
          "id": "CtMYqp19WyE0XY9E",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "exists",
                      "singleValue": true
                    },
                    "id": "ff5e1442-1f1a-412e-8b15-437d9cf3b58b"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "text"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "a6d6da92-8272-4f6f-97be-7b733fc5b6d2",
                    "leftValue": "={{ $json.message.voice.file_id }}",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "exists",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "voice"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -416,
        128
      ],
      "id": "a0fc23e9-f16a-4351-8076-a66b4c46bade",
      "name": "Switch"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "13f27e1a-8d2b-4e19-afe4-ee282c5098a7",
              "name": "=text",
              "value": "={{ $json.message.text }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -176,
        32
      ],
      "id": "e2b62b2c-7254-4031-8257-a8f0273db9dc",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "resource": "file",
        "fileId": "={{ $json.message.voice.file_id }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -192,
        272
      ],
      "id": "cd145f72-9e0a-474f-bc75-49bff27116df",
      "name": "Telegram",
      "webhookId": "0848e745-ccfd-4203-98f0-154ea83bae8d",
      "credentials": {
        "telegramApi": {
          "id": "CtMYqp19WyE0XY9E",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "resource": "audio",
        "operation": "transcribe",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        32,
        272
      ],
      "id": "c94631af-ca53-4aab-844c-9f674a0e18e1",
      "name": "OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "fcIDL6mBCr4eAnxg",
          "name": "OpenAi voice to text"
        }
      }
    },
    {
      "parameters": {
        "model": "gpt-4.1-mini",
        "options": {
          "frequencyPenalty": 0.2,
          "maxTokens": 1800,
          "presencePenalty": 0,
          "temperature": 0.1,
          "timeout": 45000,
          "maxRetries": 3,
          "topP": 0.9
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.1,
      "position": [
        -160,
        512
      ],
      "id": "7c24b18a-c0bd-45c9-914c-bd28c44aad62",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "fcIDL6mBCr4eAnxg",
          "name": "OpenAi voice to text"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "={{ $json.output }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1072,
        176
      ],
      "id": "964c4342-d314-4991-b1b3-4762d818c3fb",
      "name": "Telegram1",
      "webhookId": "72ca9428-0d24-40e5-9428-c7087f0fa679",
      "credentials": {
        "telegramApi": {
          "id": "CtMYqp19WyE0XY9E",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "giopag81@gmail.com",
          "mode": "list",
          "cachedResultName": "giopag81@gmail.com"
        },
        "options": {
          "timeMin": "={{ $fromAI('StartDate','the start date and time for fetching events') }}",
          "timeMax": "={{ $fromAI('EndDate','the end date and time for fetching events') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.2,
      "position": [
        1040,
        464
      ],
      "id": "5fa208a8-c19a-420e-996a-9b2cd7811143",
      "name": "Search Events",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "RDxm6PWdrRguEIuu",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Creates Google Calendar Events",
        "calendar": {
          "__rl": true,
          "value": "giopag81@gmail.com",
          "mode": "list",
          "cachedResultName": "giopag81@gmail.com"
        },
        "start": "={{ $fromAI('StartDate','the start date and time for creating events') }}",
        "end": "={{ $fromAI('EndDate','the end date and time for creating events') }}",
        "additionalFields": {
          "summary": "={{ $fromAI('eventName','the name used for creating new events') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.2,
      "position": [
        1168,
        464
      ],
      "id": "5c06a7f7-f516-4165-bb13-1c29e950fe71",
      "name": "Create Event",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "RDxm6PWdrRguEIuu",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Update Google Calendar Event",
        "operation": "update",
        "calendar": {
          "__rl": true,
          "value": "giopag81@gmail.com",
          "mode": "list",
          "cachedResultName": "giopag81@gmail.com"
        },
        "eventId": "={{ $fromAI('eventID','the event ID of the event needing updated') }}",
        "updateFields": {
          "end": "={{ $fromAI('updatedEnd','the updated end time and day of the event') }}",
          "start": "={{ $fromAI('updatedStart','the updated start time and day of the event') }}",
          "summary": "={{ $fromAI('eventName','the updated name of the event') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.2,
      "position": [
        1296,
        464
      ],
      "id": "d7191ea2-9b86-4044-9355-dd4979ebebba",
      "name": "Update Event",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "RDxm6PWdrRguEIuu",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "project": {
          "__rl": true,
          "value": "2360779983",
          "mode": "list",
          "cachedResultName": "Monthly Goals"
        },
        "labels": "={{ $fromAI('Label') && $fromAI('Label').trim() !== '' ? $fromAI('Label').split(',').map((s) => s.trim()) : undefined }}",
        "content": "={{ $fromAI('Content','the content or objective details of the task') }}",
        "options": {
          "description": "={{ $fromAI('Description','A short description of the task') }}",
          "dueString": "={{ $fromAI('DueString','when the task is due') }}",
          "priority": "={{ $fromAI('Priority','the priority of the task') }}"
        }
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        272,
        592
      ],
      "id": "5c53824f-fa7c-44c9-9a73-51b23cfd6d70",
      "name": "Create Monthly Goal in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "project": {
          "__rl": true,
          "value": "2360667327",
          "mode": "list",
          "cachedResultName": "Inbox"
        },
        "labels": "={{ $fromAI('Label') && $fromAI('Label').trim() !== '' ? $fromAI('Label').split(',').map((s) => s.trim()) : undefined }}",
        "content": "={{ $fromAI('Content','the content or objective details of the task') }}",
        "options": {
          "description": "={{ $fromAI('Description','A short description of the task') }}",
          "dueString": "={{ $fromAI('DueString','when the task is due') }}",
          "priority": "={{ $fromAI('Priority','the priority of the task') }}"
        }
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        368,
        464
      ],
      "id": "d127fee4-6d3d-4f85-9cbe-f2a5e135f958",
      "name": "Create Inbox Task in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "taskId": "={{ $fromAI('TaskId', 'The ID of the task to retrieve') }}"
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        576,
        464
      ],
      "id": "b08c91de-14d6-4864-8e9c-008c88ef1e67",
      "name": "Get a task in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "filters": {
          "projectId": "={{ $fromAI('ProjectID', 'The ID of the project') }}"
        }
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        656,
        576
      ],
      "id": "b0faa33e-bb40-4afb-8ff1-8c33f44cbcc8",
      "name": "Get many tasks in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "taskId": "={{ $fromAI ('TaskID', 'The ID of the task to update') }}",
        "updateFields": {
          "content": "={{ $fromAI('Content','the content or objective details of the task') }}",
          "description": "={{ $fromAI('Description','A short description of the task') }}",
          "dueString": "={{ $fromAI('DueString','when the task is due') }}",
          "labels": "={{ $fromAI('Label') && $fromAI('Label').trim() !== '' ? $fromAI('Label').split(',').map((s) => s.trim()) : undefined }}",
          "priority": "={{ $fromAI('Priority','the priority of the task from P1 to P4') }}"
        }
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        480,
        576
      ],
      "id": "ea13be5c-6672-4534-b412-de70c9706aa4",
      "name": "Update a Task in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "taskId": "={{ $fromAI('TaskId', 'The ID of the task to delete') }}"
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        736,
        464
      ],
      "id": "b0e48d73-dab8-4e22-a584-a09951960d85",
      "name": "Delete a task in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "operation": "close",
        "taskId": "={{ $fromAI('TaskId', 'The ID of the task to close') }}"
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        848,
        560
      ],
      "id": "8f394cd3-1335-4752-a319-367fce92018d",
      "name": "Close a task in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.text }}",
        "options": {
          "systemMessage": "=<AgentInstructions>\n    <Role>\n        <Name>Productivity Manager</Name>\n        <Description>Always respond in English. Manages calendar events and tasks with intelligent cross-system synchronization, visual goal tracking, and bidirectional conversions between Google Calendar and Todoist.</Description>\n        <currentDate>{{$now}}</currentDate>\n        \n        <!-- Cross-System Operations -->\n        <Instruction>\n            For synchronization requests: \"Block time for task\" â†’ Get task + Check availability + Create event | \"Convert meeting to task\" â†’ Get event + Create task | \"Event to task\" â†’ Extract event info + Create Todoist task | \"Task to event\" â†’ Extract task info + Create calendar event | Always confirm cross-system changes before execution.\n        </Instruction>\n        <Instruction>\n            CRITICAL: Always use actual tools - never simulate or describe actions:\n            â€¢ For task creation: MUST use \"Create Weekly Goal in Todoist\", \"Create Monthly Goal in Todoist\", or \"Create Inbox Task in Todoist\" tools\n            â€¢ For task updates: MUST use \"Update a Task in Todoist\" tool  \n            â€¢ For calendar events: MUST use \"Search Events\", \"Create Event\", \"Update Event\" tools\n            â€¢ Never respond with \"Created task\" or \"Updated event\" unless tool was actually executed\n            â€¢ get many and get action tools must also be always excecuted. \n            â€¢ If tool execution fails, report the error - do not pretend success\n            â€¢ Never use memory as a replacement for tools\n        </Instruction>\n    </Role>\n\n    <!-- Calendar Operations -->\n    <SubRole>\n        <Name>Calendar Event Manager</Name>\n        \n        <Instruction>New events: Use \"Search Events\" for conflicts â†’ If conflicts exist, provide alternatives â†’ If none, use \"Create Event\" immediately.</Instruction>\n        \n        <Instruction>Event updates: \"Search Events\" to find eventID â†’ Confirm details â†’ \"Update Event\" â†’ Summarize changes.</Instruction>\n        \n        <Instruction>Event info: Parse dates as \"YYYY-MM-DD 00:00:00\" to \"YYYY-MM-DD 23:59:59\" â†’ \"Search Events\" â†’ Present concise list (time, title, participants).</Instruction>\n        \n        <Instruction>Event deletion: \"Search Events\" to find â†’ Confirm with user â†’ \"Delete Event\" â†’ Confirm deletion.</Instruction>\n    </SubRole>\n\n    <!-- Task Operations -->\n    <SubRole>\n        <Name>Task Manager</Name>\n        \n        <Instruction>\n            Task creation: Determine project (Weekly Goals: â‰¤7 days, Monthly Goals: â‰¤30 days, Inbox: daily/immediate) â†’ Use appropriate \"Create\" tool â†’ Always provide fields:\n            â€¢ Label: Check <LabelsHandling> for proper format\n            â€¢ Content: \"ğŸ¯ Task title\" (with emoji: ğŸ¯ objectives, ğŸ“ˆ metrics, ğŸ† achievements, ğŸš€ projects, ğŸ’¡ ideas, ğŸ“‹ planning)\n            â€¢ Description: If not provided, infer from the content. If unclear, leave empty\n            â€¢ DueString: \"today\", \"tomorrow\", \"next Friday\" (natural language). If not provided, always ask\n            â€¢ Priority: P1-P4 (P1=ğŸ”´ urgent, P2=ğŸŸ¡ high, P3=ğŸŸ¢ medium, P4=âšª low). If not provided always P3=ğŸŸ¢ medium. Use <PriorityMap> to assign priority. \n            Use <OutputFormat> to display the created task\n              \n        </Instruction>\n    \n    \n        <Instruction>\n            Task updates: IF requested to change or update a task, \"Get a task\" with TaskId OR \"Get many tasks\" with Project â†’ For completion: \"Close a task in Todoist\" with TaskId â†’ For changes: \"Update a Task in Todoist\" with TaskID + updated fields â†’ use <OutputFormat> in dysplauying the updated task.\n        </Instruction>\n\n<!-- Task info request -->\n        <Instruction>\n            Task info requests - Smart routing:\n            <QueryRouting>\n                â€¢ Goal-focused: (\"my weekly goals\", \"monthly objectives\", \"by end of week/month\") â†’ Use <ProjectQueries> ONLY\n                â€¢ Date-focused: (\"due today\", \"overdue\", \"Friday\", \"today\", \"tomorrow\") â†’ Use \"Get many tasks in Todoist\" with ProjectID: \"\" then manually filter by checking actual due dates in the response\n            </QueryRouting>\n            Present all results with visual indicators and priority levels as indicated in <outputFormat>\n        </Instruction>\n\n        <ProjectQueries>\n            Direct project access (single step):\n            â€¢ Weekly goals â†’ \"Get many tasks in Todoist\" with ProjectID: \"6f26m8fgVWX954hr\"\n            â€¢ Monthly goals â†’ \"Get many tasks in Todoist\" with ProjectID: \"6f26m4h5fVvr2m9c\"  \n            â€¢ All goals â†’ \"Get many tasks in Todoist\" from both projects\n        </ProjectQueries>\n\n        <Instruction>\n            Task deletion: Find task via \"Get many tasks\" or \"Get a task\" â†’ Confirm details â†’ \"Delete a task\" with TaskId â†’ Confirm deletion.\n        </Instruction>\n\n        <PriorityMap>\n            â€¢ For urgent tasks â†’ Priority: 4 (equivalent to P1 ğŸ”´)\n            â€¢ For high priority â†’ Priority: 3 (equivalent to P2 ğŸŸ¡)  \n            â€¢ For medium priority â†’ Priority: 2 (equivalent to P3 ğŸŸ¢)\n            â€¢ For normal/low â†’ Priority: 1 (equivalent to P4 âšª)\n        </PriorityMap>\n\n        <LabelsHandling>\n            <!-- Due to n8n Todoist node limitations, use conditional comma-separated format -->\n        \n            <WhenToApplyLabels>\n                Apply labels only when clearly inferable from task content using <labelFormat>:\n                â€¢ Work-related content â†’ \"work\"\n                â€¢ Personal/family content â†’ \"personal\"  \n                â€¢ Time-critical (today/tomorrow) â†’ \"urgent\"\n                â€¢ Regular habits â†’ \"routine\"\n                â€¢ Requires phone calls â†’ \"phone\"\n                â€¢ Computer/digital work â†’ \"computer\"\n                â€¢ Shopping/errands â†’ \"errands\"\n                â€¢ Waiting for others â†’ \"waiting\"\n            </WhenToApplyLabels>\n            \n            <LabelFormat>\n                â€¢ Multiple labels: \"Label\": \"work,urgent,computer\"\n                â€¢ Single label: \"Label\": \"personal\"\n                â€¢ No clear labels: \"Label\": \"\"\n            </LabelFormat>\n            \n            <Examples>\n                â€¢ \"Call dentist appointment\" â†’ \"Label\": \"personal,phone\"\n                â€¢ \"Finish quarterly report by Friday\" â†’ \"Label\": \"work,urgent,computer\"  \n                â€¢ \"Buy groceries\" â†’ \"Label\": \"personal,errands\"\n                â€¢ \"Some unclear task\" â†’ \"Label\": \"\"\n            </Examples>\n        </LabelsHandling>\n    </SubRole>\n\n    <!-- Response Format -->\n        <Instruction>\n            Response sequence: 1) Execute tool first, 2) Then provide formatted response based on actual tool results\n            â€¢ Example: Use \"Create Weekly Goal in Todoist\" â†’ THEN respond \" âœ… Created task: ğŸ¯ Complete certification using <OutputFormat>\"\n            â€¢ Never provide success confirmation without actual tool execution\n            â€¢ If tool fails, explain the error and ask for clarification\n        </Instruction>\n\n    <!-- Tools Verification -->\n        <Instruction>\n            After each tool execution:\n            â€¢ Verify the tool returned success confirmation\n            â€¢ If tool returns error, troubleshoot or ask user for help\n            â€¢ Only confirm success if tool actually succeeded\n            â€¢ For task creation, mention the task ID if returned by tool\n        </Instruction>\n\n        <OutputFormat>\n            Whenever listing tasks or goals, use the following format with emoticons:\n            1) before content:\n            emoji: ğŸ¯ objectives, ğŸ“ˆ metrics, ğŸ† achievements, ğŸš€ projects, ğŸ’¡ ideas, ğŸ“‹ planning\n            2) Labels with @\n            3) Priority: P1=ğŸ”´ urgent, P2=ğŸŸ¡ high, P3=ğŸŸ¢ medium, P4=âšª low.\n            4) Alyways add status string with emoticon as last row:\n                - \"Completed âœ…\" \n                - \"Pending â³\" to be used only for today tasks\n                - \"Incomplete âš ï¸\" to be used only for past tasks, example: yesterday. \n                - \"YYYY/MM/DD ğŸ“…\" only to be used for Future, example: tomorrow, in 2 weeks and so on.\n        </OutputFormat>\n        \n        <Safety>\n            Confirm before deleting | Ask for clarification on ambiguous requests | Show what will be created/modified before cross-system execution | Verify project existence before task creation.\n        </Safety>\n    \n    <Goal>\n        <Primary>Handle calendar events, tasks, goal management, and seamless bidirectional synchronization through natural conversation with visual indicators.</Primary>\n        <Important>Whenever requested in generic way, what do I have for a specific day without specifying either tasks, goals or events, pull out both calendar and Tasks for that date using tasks <OutputFormat></Important>\n    </Goal>\n\n    <Tools>\n        1) Search Events, 2) Create Event, 3) Update Event, 4) Create Weekly Goal in Todoist, 5) Create Inbox Task in Todoist, 6) Get a task in Todoist, 7) Delete a task in Todoist, 8) Create Monthly Goal in Todoist, 9) Update a Task in Todoist, 10) Get many tasks in Todoist, 11) Close a task in Todoist\n    </Tools>\n</AgentInstructions>"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        400,
        176
      ],
      "id": "fffaba39-1087-4fec-b360-67c103989123",
      "name": "Productivity Manager"
    },
    {
      "parameters": {
        "project": {
          "__rl": true,
          "value": "2360780016",
          "mode": "list",
          "cachedResultName": "Weekly Goals"
        },
        "labels": "={{ $fromAI('Label') && $fromAI('Label').trim() !== '' ? $fromAI('Label').split(',').map((s) => s.trim()) : undefined }}",
        "content": "={{ $fromAI('Content','the content or objective details of the task') }}",
        "options": {
          "description": "={{ $fromAI('Description','A short description of the task') }}",
          "dueString": "={{ $fromAI('DueString','when the task is due') }}",
          "priority": "={{ $fromAI('Priority','the priority of the task') }}"
        }
      },
      "type": "n8n-nodes-base.todoistTool",
      "typeVersion": 2.1,
      "position": [
        176,
        464
      ],
      "id": "88df4287-db1f-42cc-8038-a4b0445931f6",
      "name": "Create Weekly Goal in Todoist",
      "credentials": {
        "todoistApi": {
          "id": "0e5FBGaHXik0sBQC",
          "name": "Todoist account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{$('Telegram Trigger').item.json.message.chat.id}}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        16,
        512
      ],
      "id": "1e5dde97-a16e-44fb-890f-5c9ccf3f5a92",
      "name": "Simple Memory"
    }
  ],
  "pinData": {},
  "repo_name": "n8n",
  "repo_owner": "thalderg",
  "repo_path": "workflows",
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-09-27T09:53:45.641Z",
      "updatedAt": "2025-09-27T09:53:45.641Z",
      "role": "workflow:owner",
      "workflowId": "Hzn11XjtbbsPv2Um",
      "projectId": "rwZmgF8pMPgWdXwq"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-10-02T14:47:45.000Z",
  "versionId": "e7d55c2f-55b5-40dc-9b87-761efea6587d"
}